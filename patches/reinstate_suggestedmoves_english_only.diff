Index: src/tkscid.cpp
===================================================================
--- src/tkscid.cpp	(revision 3286)
+++ src/tkscid.cpp	(working copy)
@@ -11242,7 +11242,7 @@
             // moves but fast enough to seem almost instant. The
             // search promotes the best move to be first in the list.
             Engine * engine = new Engine();
-            engine->SetSearchTime (25);    // Do a 25 millisecond search
+            engine->SetSearchTime (100);    // 25
             engine->SetPosition (pos);
             engine->Think (&mlist);
             delete engine;
@@ -11256,10 +11256,12 @@
 
     simpleMoveT * sm = mlist.Get(0);
     ASSERT (sq == sm->from  ||  sq == sm->to);
-    squareT bestSq = sm->from;
-    if (sm->from == sq) { bestSq = sm->to; }
-    setUintResult (ti, bestSq);
 
+    if (sm->from == sq) 
+      setUintResult (ti, sm->to);
+    else
+      setUintResult (ti, sm->from);
+
     return TCL_OK;
 }
 
Index: tcl/board.tcl
===================================================================
--- tcl/board.tcl	(revision 3286)
+++ tcl/board.tcl	(working copy)
@@ -7,21 +7,21 @@
 array set ::board::letterToPiece \
   {R wr r br N wn n bn B wb b bb Q wq q bq K wk k bk P wp p bp . e}
 
-# { name(unused), lite, dark, highcolor, bgcolor, highlightLastMoveColor (missing) }
+# { name(unused), lite, dark, highcolor, bestcolor, bgcolor, highlightLastMoveColor }
 
 set colorSchemes1 {
-  { Blue-white	#f3f3f3 #7389b6 #f3f484 steelblue4}
-  { Blue-ish	#d0e0d0 #80a0a0 #b0d0e0 grey}
-  { M.Thomas	#d3d9a8 #51a068 #e0d873 grey20}
-  { GreenYellow	#e0d070 #70a070 #b0d0e0 #29764e}
-  { Brown	#d0c0a0 #a08050 #b0d0e0 tan4}
+  { Blue-white	#f3f3f3 #7389b6 #f3f484 #b8cbf8 steelblue4}
+  { Blue-ish	#d0e0d0 #80a0a0 #b0d0e0 #f0f0a0 grey}
+  { M.Thomas	#d3d9a8 #51a068 #e0d873 #86a000 grey20}
+  { GreenYellow	#e0d070 #70a070 #b0d0e0 #bebebe #29764e}
+  { Brown	#d0c0a0 #a08050 #b0d0e0 #bebebe tan4}
 }
 set colorSchemes2 {
-  { Tan		#fbdbc4 #cc9c83 #b0d0e0 rosybrown4}
-  { Grey	#dfdfdf #808080 #b0d0e0 black }
-  { Rosy	#f8dbcc rosybrown #b0d0e0 rosybrown4}
-  { SteelBlue	lightsteelblue steelblue #51a068 #002958}
-  { GreenSA     #46a631 #006400 #008064 #8bb869 }
+  { Tan		#fbdbc4 #cc9c83 #b0d0e0 #bebebe rosybrown4}
+  { Grey	#dfdfdf #808080 #b0d0e0 #bebebe black }
+  { Rosy	#f8dbcc rosybrown #b0d0e0 #bebebe rosybrown4}
+  { SteelBlue	lightsteelblue steelblue #51a068 #e0d873 #002958}
+  { GreenSA     #46a631 #006400 #008064 rosybrown4 #8bb869 }
 }
 array set newColors {}
 
@@ -74,9 +74,10 @@
   set newColors(lite) [lindex $list 1]
   set newColors(dark) [lindex $list 2]
   set newColors(highcolor) [lindex $list 3]
-  set newColors(bgcolor)   [lindex $list 4]
+  set newColors(bestcolor) [lindex $list 4]
+  set newColors(bgcolor)   [lindex $list 5]
   # highlightLastMoveColor needs to be added to colorSchemes1 , colorSchemes2 above 
-  set newColors(highlightLastMoveColor) $::highlightLastMoveColor
+  set newColors(highlightLastMoveColor)   $::highlightLastMoveColor
   set newColors(maincolor) $::maincolor
   set newColors(varcolor)  $::varcolor
 }
@@ -83,10 +84,10 @@
 
 proc applyBoardColors {} {
 
-  global newColors lite dark highcolor bgcolor highlightLastMoveColor borderwidth maincolor varcolor
+  global newColors lite dark highcolor bestcolor bgcolor highlightLastMoveColor borderwidth maincolor varcolor
 
   set w .bdOptions
-  set colors {lite dark highcolor bgcolor highlightLastMoveColor maincolor varcolor}
+  set colors {lite dark highcolor bestcolor bgcolor highlightLastMoveColor maincolor varcolor}
 
   foreach i $colors {
     set $i $newColors($i)
@@ -99,6 +100,7 @@
     $w.bd.$i configure -background $newColors(lite)
   }
   $w.bd.bb configure -background $newColors(highcolor)
+  $w.bd.wk configure -background $newColors(bestcolor)
   foreach i $colors {
     $w.select.b$i configure -background $newColors($i)
   }
@@ -178,10 +180,10 @@
 
 proc initBoardColors {} {
 
-  global lite dark highcolor bgcolor highlightLastMoveColor png_image_support maincolor varcolor
+  global lite dark highcolor bestcolor bgcolor highlightLastMoveColor png_image_support maincolor varcolor
   global newColors boardStyles boardStyle boardSizes boardStyleActiveButton
 
-  set colors {lite dark highcolor bgcolor highlightLastMoveColor maincolor varcolor}
+  set colors {lite dark highcolor bestcolor bgcolor highlightLastMoveColor maincolor varcolor}
   set w .bdOptions
 
   if { [winfo exists $w] } {
@@ -305,11 +307,10 @@
   }
 
   set f $w.select
-
-  foreach row {0 0 1 0 1 2 1} column {0 2 0 4 4 0 2} c {
-    lite dark highcolor bgcolor highlightLastMoveColor maincolor varcolor
+  foreach row {0 0 1 1 0 1 2 2} column {0 2 0 2 4 4 0 2} c {
+    lite dark highcolor bestcolor bgcolor highlightLastMoveColor maincolor varcolor
   } n {
-    LightSquares DarkSquares SelectedSquares Grid Previous ArrowMain ArrowVar
+    LightSquares DarkSquares SelectedSquares SuggestedSquares Grid Previous ArrowMain ArrowVar
   } {
     label $f.b$c -width 2 -background [set $c] 
     bind  $f.b$c <Button-1> "chooseAColor $w $c"
@@ -1418,7 +1419,7 @@
 
 proc ::board::highlightSquare {args} {
 
-  if {$::colorActiveSquare} {
+  if {$::colorActiveSquare || $::suggestMoves} {
     # color square
     eval ::board::colorSquare $args
   } else {
Index: tcl/edit.tcl
===================================================================
--- tcl/edit.tcl	(revision 3286)
+++ tcl/edit.tcl	(working copy)
@@ -769,7 +769,7 @@
 
 proc releaseSetupSquare {w x y} {
 
-  global selectedSq setupBd pastePiece setupboardSize
+  global selectedSq bestSq setupBd pastePiece setupboardSize
 
   ::board::setDragSquare $w -1
   set square [::board::getSquare $w $x $y]
Index: tcl/end.tcl
===================================================================
--- tcl/end.tcl	(revision 3286)
+++ tcl/end.tcl	(working copy)
@@ -1538,6 +1538,7 @@
 # Todo: change pressSquare to "pressSquare $w" and make it usable by other boards.
 for {set i 0} { $i < 64 } { incr i } {
   ::board::bind .main.board $i <Enter> "enterSquare $i"
+  ::board::bind .main.board $i <Leave> "leaveSquare $i"
   ::board::bind .main.board $i <ButtonPress-1> "pressSquare $i 0"
   ::board::bind .main.board $i <ButtonPress-2> "pressSquare $i 1"
   ::board::bind .main.board $i <Control-ButtonPress-1> "drawArrow $i \$::::commenteditor::State(markColor)"
Index: tcl/help/help.tcl
===================================================================
--- tcl/help/help.tcl	(revision 3288)
+++ tcl/help/help.tcl	(working copy)
@@ -908,6 +908,13 @@
   is disabled.
   </p>
 
+  <h4>Suggested Moves</h4>
+  <p>
+  The Suggested Move feature, if enabled, highlights the best move (taken from ECO or a quick engine search) to/from a board square.
+  This can be confusing at times, or also regarded as cheating, and is disabled by default in Scid vs. PC.
+  This option also enforces "Colour Selected Square".
+  </p> 
+
   <h3><name Null>Entering Null Moves</name></h3>
   <p>
   <a Variations Null>Null Moves</a> (or empty moves) can be useful in variations where
Index: tcl/lang/czech.tcl
===================================================================
--- tcl/lang/czech.tcl	(revision 3286)
+++ tcl/lang/czech.tcl	(working copy)
@@ -335,6 +335,8 @@
 menuText C OptionsMovesCoord "Sou¯adnicovÈ zad·v·nÌ tah˘" 0 \
   {Povolit zad·v·nÌ tah˘ pomocÌ sou¯adnic (nap¯. "g1f3")}
 # ====== TODO To be translated ======
+menuText C OptionsMovesSuggest "Show Suggested Moves" 0 \
+# ====== TODO To be translated ======
 menuText C OptionsShowVarPopup "Show Variation Window" 0 {Turn on/off the display of a variations window}  
 # ====== TODO To be translated ======
 menuText C OptionsMovesSpace "Add spaces after move number" 0 {Add spaces after move number}  
@@ -1559,6 +1561,8 @@
 translate C LightSquares {BÌl· pole}
 translate C DarkSquares {»ern· pole}
 translate C SelectedSquares {Vybran· pole}
+# ====== TODO To be translated ======
+translate C SuggestedSquares {Suggested}
 # todo
 translate C Grid {Grid}
 translate C Previous {P¯edchozÌ}
Index: tcl/lang/deutsch.tcl
===================================================================
--- tcl/lang/deutsch.tcl	(revision 3286)
+++ tcl/lang/deutsch.tcl	(working copy)
@@ -307,6 +307,8 @@
   {Zeit f√ºr automatisches Vorspielen einstellen}
 menuText D OptionsMovesCoord "Tastatureingabe" 0 \
   {Zugeingabe √ºber Koordinaten ("g1f3") akzeptieren}
+# ====== TODO To be translated ======
+menuText D OptionsMovesSuggest "Show Suggested Moves" 0 \
 menuText D OptionsShowVarPopup "Variantenfenster zeigen" 0 { Anzeige des Variantenauswahlfensters ein/ausschalten}  
 menuText D OptionsMovesSpace "Leerzeichen nach Zugnummer einf√ºgen" 0 {Leerzeichen nach Zugnummer einf√ºgen}  
 menuText D OptionsMovesKey "Automatische Zugerg√§nzung" 10 \
@@ -1389,6 +1391,8 @@
 translate D LightSquares {Helle Felder}
 translate D DarkSquares {Dunkle Felder}
 translate D SelectedSquares {Ausgew√§hlte Felder}
+# ====== TODO To be translated ======
+translate D SuggestedSquares {Suggested}
 translate D Grid {Gitter}
 translate D Previous {Vorherige}
 translate D WhitePieces {Wei√üe Steine}
Index: tcl/lang/english.tcl
===================================================================
--- tcl/lang/english.tcl	(revision 3286)
+++ tcl/lang/english.tcl	(working copy)
@@ -292,6 +292,8 @@
   {Set the time delay for autoplay mode}
 menuText E OptionsMovesCoord "Coordinate Move Entry" 0 \
   {Accept coordinate-style move entry (e.g. "g1f3")}
+menuText E OptionsMovesSuggest "Show Suggested Moves" 0 \
+  {Turn on/off move suggestion}
 menuText E OptionsShowVarPopup "Show Variation Window" 0 {Turn on/off the display of a variations window}  
 menuText E OptionsMovesSpace "Add Spaces after Move Number" 0 {Add spaces after move number}  
 menuText E OptionsMovesKey "Keyboard Completion" 0 \
@@ -1350,6 +1352,7 @@
 translate E LightSquares {Light squares}
 translate E DarkSquares {Dark squares}
 translate E SelectedSquares {Selected}
+translate E SuggestedSquares {Suggested}
 translate E Grid {Grid}
 translate E Previous {Previous}
 translate E WhitePieces {White pieces}
Index: tcl/lang/finnish.tcl
===================================================================
--- tcl/lang/finnish.tcl	(revision 3286)
+++ tcl/lang/finnish.tcl	(working copy)
@@ -274,6 +274,8 @@
   {Aseta aikaviiv‰stys automaattisen pelaamisen moodille}
 menuText L OptionsMovesCoord "Koordinoi siirron tekeminen" 0 \
   {Hyv‰ksy koordinaattityylinen siirron suoritus (esim. "g1f3")}
+# ====== TODO To be translated ======
+menuText L OptionsMovesSuggest "Show Suggested Moves" 0 \
 menuText L OptionsShowVarPopup "N‰yt‰ muunnelmaikkuna" 0 {K‰‰nn‰ p‰‰lle/pois muunnelmaikkunan n‰yttˆ}  
 menuText L OptionsMovesSpace "Lis‰‰ v‰lilyˆntej‰ siirron numeron j‰lkeen" 0 {Lis‰‰ v‰lilyˆntej‰ siirron numeron j‰lkeen}  
 menuText L OptionsMovesKey "N‰pp‰imistˆn t‰ydent‰minen" 0 \
@@ -1356,6 +1358,8 @@
 translate L LightSquares {Valkeat ruudut}
 translate L DarkSquares {Mustat ruudut}
 translate L SelectedSquares {Valitut}
+# ====== TODO To be translated ======
+translate L SuggestedSquares {Suggested}
 translate L Grid {Ruudukko}
 translate L Previous {Edellinen}
 translate L WhitePieces {Valkeat nappulat}
Index: tcl/lang/francais.tcl
===================================================================
--- tcl/lang/francais.tcl	(revision 3286)
+++ tcl/lang/francais.tcl	(working copy)
@@ -289,6 +289,8 @@
   {Positionner le dÈlai entre deux coups en mode automatique}
 menuText F OptionsMovesCoord "CoordonnÈes entre les coups" 0 \
   {Accepter l'entrÈe des coups par coordonnÈes ("g1f3")}
+# ====== TODO To be translated ======
+menuText F OptionsMovesSuggest "Show Suggested Moves" 0 \
 menuText F OptionsShowVarPopup "Montrer fenÍtre des variantes" 0 {Affichage automatique des variantes}  
 menuText F OptionsMovesSpace "Ajouter un espace aprËs le numÈro du coup" 0 {Espace aprËs numÈro du coup}  
 menuText F OptionsMovesKey "ComplÈtion clavier" 0 \
@@ -1354,6 +1356,8 @@
 translate F LightSquares {Cases blanches}
 translate F DarkSquares {Cases noires}
 translate F SelectedSquares {Cases sÈlectionnÈes}
+# ====== TODO To be translated ======
+translate F SuggestedSquares {Suggested}
 translate F Grid {Grille}
 translate F Previous {PrÈcÈdents}
 translate F WhitePieces {PiËces blanches}
Index: tcl/lang/greek.tcl
===================================================================
--- tcl/lang/greek.tcl	(revision 3286)
+++ tcl/lang/greek.tcl	(working copy)
@@ -332,6 +332,8 @@
   {ŒüœÅŒπœÉŒºœåœÇ œáœÅœåŒΩŒøœÖ Œ∫Œ±Œ∏œÖœÉœÑŒ≠œÅŒ∑œÉŒ∑œÇ œÑŒ∑œÇ ŒëŒΩŒ±œÄŒ±œÅŒ±Œ≥œâŒ≥ŒÆœÇ}
 menuText G OptionsMovesCoord "ŒöŒØŒΩŒ∑œÉŒ∑ ŒºŒµ Œ£œÖŒΩœÑŒµœÑŒ±Œ≥ŒºŒ≠ŒΩŒµœÇ" 11 \
   {ŒëœÄŒøŒ¥ŒøœáŒÆ ŒöŒπŒΩŒÆœÉŒµœâŒΩ ŒºŒµ Œ£œÖŒΩœÑŒµœÑŒ±Œ≥ŒºŒ≠ŒΩŒµœÇ (œÄœá "g1f3")}
+# ====== TODO To be translated ======
+menuText G OptionsMovesSuggest "Show Suggested Moves" 0 \
 menuText G OptionsShowVarPopup "ŒïŒºœÜŒ¨ŒΩŒπœÉŒ∑ Œ†Œ±œÅŒ±Œ∏œçœÅŒøœÖ ŒíŒ±œÅŒπŒ¨ŒΩœÑœâŒΩ" 9 {ŒïŒºœÜŒ¨ŒΩŒπœÉŒ∑ ŒÆ ŒºŒ∑ Œ†Œ±œÅŒ±Œ∏œçœÅŒøœÖ ŒíŒ±œÅŒπŒ¨ŒΩœÑœâŒΩ}  
 menuText G OptionsMovesSpace "Œ†œÅŒøœÉŒ∏.ŒöŒµŒΩŒøœç ŒúŒµœÑŒ¨ ŒëœÅŒπŒ∏Œº.ŒöŒØŒΩŒ∑œÉŒ∑œÇ" 6 {Œ†œÅŒøœÉŒ∏ŒÆŒ∫Œ∑ Œ∫ŒµŒΩŒøœç ŒºŒµœÑŒ¨ Œ±œÄœå œÑŒøŒΩ Œ±œÅŒπŒ∏Œºœå œÑŒ∑œÇ Œ∫ŒØŒΩŒ∑œÉŒ∑œÇ}  
 menuText G OptionsMovesKey "ŒëœÖœÑœåŒºŒ±œÑŒ∑ Œ£œÖŒºœÄŒªŒÆœÅœâœÉŒ∑" 0 \
@@ -1473,6 +1475,8 @@
 translate G LightSquares {ŒõŒµœÖŒ∫Œ¨ œÑŒµœÑœÅŒ¨Œ≥œâŒΩŒ±}
 translate G DarkSquares {ŒúŒ±œçœÅŒ± œÑŒµœÑœÅŒ¨Œ≥œâŒΩŒ±}
 translate G SelectedSquares {ŒïœÄŒπŒªŒµŒ≥ŒºŒ≠ŒΩŒ±}
+# ====== TODO To be translated ======
+translate G SuggestedSquares {Suggested}
 translate G Grid {Œ†ŒªŒ±ŒØœÉŒπŒø}
 translate G Previous {Œ†œÅŒøŒ∑Œ≥ŒøœçŒºŒµŒΩŒ∑}
 translate G WhitePieces {ŒõŒµœÖŒ∫Œ¨ Œ∫ŒøŒºŒºŒ¨œÑŒπŒ±}
Index: tcl/lang/hungary.tcl
===================================================================
--- tcl/lang/hungary.tcl	(revision 3286)
+++ tcl/lang/hungary.tcl	(working copy)
@@ -340,6 +340,8 @@
 menuText H OptionsMovesCoord "LÈpÈs megad·sa koordin·t·kkal" 15 \
   {Koordin·t·kkal megadott lÈpÈst ("g1f3") is elfogad.}
 # ====== TODO To be translated ======
+menuText H OptionsMovesSuggest "Show Suggested Moves" 0 \
+# ====== TODO To be translated ======
 menuText H OptionsShowVarPopup "Show Variation Window" 0 {Turn on/off the display of a variations window}  
 # ====== TODO To be translated ======
 menuText H OptionsMovesSpace "Add spaces after move number" 0 {Add spaces after move number}  
@@ -1569,6 +1571,8 @@
 translate H LightSquares {Vil·gos mezık}
 translate H DarkSquares {SˆtÈt mezık}
 translate H SelectedSquares {Kiv·lasztott mezık}
+# ====== TODO To be translated ======
+translate H SuggestedSquares {Suggested}
 # todo
 translate H Grid {Grid}
 translate H Previous {Kor·bbi}
Index: tcl/lang/italian.tcl
===================================================================
--- tcl/lang/italian.tcl	(revision 3286)
+++ tcl/lang/italian.tcl	(working copy)
@@ -322,6 +322,8 @@
   {Definisce l'intervallo di tempo per il gioco automatico}
 menuText I OptionsMovesCoord "Immissione mossa per coordinate" 0 \
   {Accetta l'input di mossa mediante coordinate ("g1f3")}
+# ====== TODO To be translated ======
+menuText I OptionsMovesSuggest "Show Suggested Moves" 0 \
 menuText I OptionsShowVarPopup "Mostra Finestra Varianti" 0 {Attiva/Disattiva la visualizzazione della finestra delle varianti}
 menuText I OptionsMovesSpace "Aggiungi Spazi dopo Mossa" 0 {Agginuge spazi dopo il numero della mossa}
 menuText I OptionsMovesKey "Completamento da tastiera" 0 \
@@ -1528,6 +1530,8 @@
 translate I LightSquares {Case chiare}
 translate I DarkSquares {Case scure}
 translate I SelectedSquares {Case selezionate}
+# ====== TODO To be translated ======
+translate I SuggestedSquares {Suggested}
 # todo
 translate I Grid {Grid}
 translate I Previous {Previous}
Index: tcl/lang/nederlan.tcl
===================================================================
--- tcl/lang/nederlan.tcl	(revision 3286)
+++ tcl/lang/nederlan.tcl	(working copy)
@@ -316,6 +316,8 @@
   {Stel de tijd in voor het automatisch spelen van de zetten}
 menuText N OptionsMovesCoord "Zet-ingave" 0 \
   {Accepteer de volgende manier van zetten invoeren ("g1f3")}
+# ====== TODO To be translated ======
+menuText N OptionsMovesSuggest "Show Suggested Moves" 0 \
 menuText N OptionsShowVarPopup "Toon variantenvenster" 0 {In-/Uitschakelen weergeven van het variantenvenster} 
 menuText N OptionsMovesSpace "Spaties zetten achter zetnummer" 0 {Zet spaties na het zetnummer}  
 menuText N OptionsMovesKey "Auto-aanvullen" 0 \
@@ -1461,6 +1463,8 @@
 translate N LightSquares {Lichte velden}
 translate N DarkSquares {Donkere velden}
 translate N SelectedSquares {Geselecteerde velden}
+# ====== TODO To be translated ======
+translate N SuggestedSquares {Suggested}
 translate N Grid {Raster}
 translate N Previous {Voorgaande}
 translate N WhitePieces {Witte stukken}
Index: tcl/lang/norsk.tcl
===================================================================
--- tcl/lang/norsk.tcl	(revision 3286)
+++ tcl/lang/norsk.tcl	(working copy)
@@ -302,6 +302,8 @@
   {Sett forsinkelsen ved automatisk gjennomgang av partiet}
 menuText O OptionsMovesCoord "Koordinater" 0 \
   {Tillat angivelse av koordinater ("g1f3")}
+# ====== TODO To be translated ======
+menuText O OptionsMovesSuggest "Show Suggested Moves" 0 \
 menuText O OptionsShowVarPopup "Vis varianter-vindu" 0 {Skru vinduet med varianter av/p√•}
 menuText O OptionsMovesSpace "Mellomrom etter trekknummer" 0 {Legg til mellomrom etter trekknummer}
 menuText O OptionsMovesKey "Autofullf√∏r" 0 \
@@ -1370,6 +1372,8 @@
 translate O LightSquares {Lyse felt}
 translate O DarkSquares {M√∏rke felt}
 translate O SelectedSquares {Merkede felt}
+# ====== TODO To be translated ======
+translate O SuggestedSquares {Suggested}
 translate O Grid {Ruter}
 translate O Previous {Tidligere}
 translate O WhitePieces {Hvite brikker}
Index: tcl/lang/polish.tcl
===================================================================
--- tcl/lang/polish.tcl	(revision 3286)
+++ tcl/lang/polish.tcl	(working copy)
@@ -308,6 +308,8 @@
   {Ustaw op√≥≈∫nienie przy automatycznym przeglƒÖdaniu partii}
 menuText P OptionsMovesCoord "Posuniƒôcia w formacie \"g1f3\"" 0 \
   {Akceptuj posuniƒôcia wprowadzone w formacie "g1f3"}
+# ====== TODO To be translated ======
+menuText P OptionsMovesSuggest "Show Suggested Moves" 0 \
 menuText P OptionsShowVarPopup "Poka≈º okno wariant√≥w" 0 {W≈ÇƒÖcz/wy≈ÇƒÖcz wy≈õwietlanie okna wariant√≥w}  
 menuText P OptionsMovesSpace "Dodaj spacjƒô po numerze posuniƒôcia" 0 {Dodawaj spacjƒô po numerze posuniƒôcia}  
 menuText P OptionsMovesKey "Automatyczne dope≈Çnianie posuniƒôƒá" 1 \
@@ -1435,6 +1437,8 @@
 translate P LightSquares {Jasne pola}
 translate P DarkSquares {Ciemne pola}
 translate P SelectedSquares {Wybrane pola}
+# ====== TODO To be translated ======
+translate P SuggestedSquares {Suggested}
 translate P Grid {Krata}
 translate P Previous {Poprzednie}
 translate P WhitePieces {Bia≈Çe figury}
Index: tcl/lang/port.tcl
===================================================================
--- tcl/lang/port.tcl	(revision 3286)
+++ tcl/lang/port.tcl	(working copy)
@@ -286,6 +286,8 @@
   {Define o tempo de espera antes de entrar no modo de jogo automatico}
 menuText U OptionsMovesCoord "Entrada de movimentos por coordenadas" 0 \
   {Aceita o estilo de entrada de movimentos por coordenadas ("g1f3")}
+# ====== TODO To be translated ======
+menuText U OptionsMovesSuggest "Show Suggested Moves" 0 \
 menuText U OptionsShowVarPopup "Mostrar janela de variantes" 0 {Turn on/off the display of a variations window}  
 menuText U OptionsMovesSpace "Adicionar um espaÁo depois do n˙mero do lance" 0 {Add spaces after move number}  
 menuText U OptionsMovesKey "Auto completar" 0 \
@@ -1356,6 +1358,8 @@
 translate U LightSquares {Casas Brancas}
 translate U DarkSquares {Casas Pretas}
 translate U SelectedSquares {Casas selecionadas}
+# ====== TODO To be translated ======
+translate U SuggestedSquares {Suggested}
 translate U Grid {Grid}
 translate U Previous {Escolhas}
 translate U WhitePieces {PeÁas Brancas}
Index: tcl/lang/portbr.tcl
===================================================================
--- tcl/lang/portbr.tcl	(revision 3286)
+++ tcl/lang/portbr.tcl	(working copy)
@@ -360,6 +360,8 @@
   {Define o tempo de espera antes de entrar no modo de jogo automatico}
 menuText B OptionsMovesCoord "Entrada de movimentos por coordenadas" 0 \
   {Aceita o estilo de entrada de movimentos por coordenadas ("g1f3")}
+# ====== TODO To be translated ======
+menuText B OptionsMovesSuggest "Show Suggested Moves" 0 \
 
 menuText B OptionsShowVarPopup "Mostrar janela de variantes" 0 {Liga/Desliga a janela de variantes}  
 
@@ -1604,6 +1606,8 @@
 translate B LightSquares {Casas Brancas}
 translate B DarkSquares {Casas Pretas}
 translate B SelectedSquares {Casas selecionadas}
+# ====== TODO To be translated ======
+translate B SuggestedSquares {Suggested}
 # todo
 translate B Grid {Grade}
 translate B Previous {Escolhas}
Index: tcl/lang/russian.tcl
===================================================================
--- tcl/lang/russian.tcl	(revision 3286)
+++ tcl/lang/russian.tcl	(working copy)
@@ -305,6 +305,8 @@
   {–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Ä–µ–º—è –∑–∞–¥–µ—Ä–∂–∫–∏ –¥–ª—è —Ä–µ–∂–∏–º–∞ –∞–≤—Ç–æ–∏–≥—Ä—ã}
 menuText R OptionsMovesCoord "–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Ö–æ–¥–æ–≤" 1 \
   {–ü—Ä–∏–Ω—è—Ç—å —Å—Ç–∏–ª—å –∑–∞–ø–∏—Å–∏ —Ö–æ–¥–æ–≤ —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏ ("g1f3")}
+# ====== TODO To be translated ======
+menuText R OptionsMovesSuggest "Show Suggested Moves" 0 \
 menuText R OptionsShowVarPopup "–ü–æ–∫–∞–∑–∞—Ç—å –æ–∫–Ω–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤" 0 {–í–∫–ª—é—á–∞–µ—Ç/–≤—ã–∫–ª—é—á–∞–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ–∫–Ω–∞ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤}
 menuText R OptionsMovesSpace "–î–æ–±–∞–≤–ª—è—Ç—å –ø—Ä–æ–±–µ–ª—ã –ø–æ—Å–ª–µ –Ω–æ–º–µ—Ä–∞ —Ö–æ–¥–∞" 0 {–î–æ–±–∞–≤–ª—è—Ç—å –ø—Ä–æ–±–µ–ª—ã –ø–æ—Å–ª–µ –Ω–æ–º–µ—Ä–∞ —Ö–æ–¥–∞}
 menuText R OptionsMovesKey "–ö–ª–∞–≤–∏–∞—Ç—É—Ä–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ" 0 \
@@ -1428,6 +1430,8 @@
 translate R LightSquares {–°–≤–µ—Ç–ª—ã–µ –ø–æ–ª—è}
 translate R DarkSquares {–¢—ë–º–Ω—ã–µ –ø–æ–ª—è}
 translate R SelectedSquares {–í—ã–±—Ä–∞–Ω–Ω—ã–µ –ø–æ–ª—è}
+# ====== TODO To be translated ======
+translate R SuggestedSquares {Suggested}
 translate R Grid {–°–µ—Ç–∫–∞}
 translate R Previous {–ù–∞–∑–∞–¥}
 translate R WhitePieces {–ë–µ–ª—ã–µ —Ñ–∏–≥—É—Ä—ã}
Index: tcl/lang/serbian.tcl
===================================================================
--- tcl/lang/serbian.tcl	(revision 3286)
+++ tcl/lang/serbian.tcl	(working copy)
@@ -356,6 +356,8 @@
 menuText Y OptionsMovesCoord "Unoπenje koordinata poteza" 0 \
   {Prihvati unoπenje poteza pomoÊu koordinata ("g1f3")}
 # ====== TODO To be translated ======
+menuText Y OptionsMovesSuggest "Show Suggested Moves" 0 \
+# ====== TODO To be translated ======
 menuText Y OptionsShowVarPopup "Show Variation Window" 0 {Turn on/off the display of a variations window}  
 # ====== TODO To be translated ======
 menuText Y OptionsMovesSpace "Add spaces after move number" 0 {Add spaces after move number}  
@@ -1642,6 +1644,8 @@
 translate Y LightSquares {Svetla polja}
 translate Y DarkSquares {Tamna polja}
 translate Y SelectedSquares {Izabrana polja}
+# ====== TODO To be translated ======
+translate Y SuggestedSquares {Suggested}
 # todo
 translate Y Grid {Grid}
 translate Y Previous {Prethodni}
Index: tcl/lang/spanish.tcl
===================================================================
--- tcl/lang/spanish.tcl	(revision 3286)
+++ tcl/lang/spanish.tcl	(working copy)
@@ -325,6 +325,8 @@
   {Pone el tiempo de demora para el modo de automovimiento}
 menuText S OptionsMovesCoord "Entrada de movimientos coordinada" 0 \
   {Acepta entrada de movimientos en sistema "coordinado" ("g1f3")}
+# ====== TODO To be translated ======
+menuText S OptionsMovesSuggest "Show Suggested Moves" 0 \
 menuText S OptionsShowVarPopup "Mostrar ventana de variaciones" 0 {Activa/desactivar la ventana de variaciones}
 menuText S OptionsMovesSpace "AÒadir espacios detr·s de n˙mero de jugada" 0 {AÒadir espacios detr·s del n˙mero de jugada}  
 menuText S OptionsMovesKey "Teclado inteligente" 0 \
@@ -1428,6 +1430,8 @@
 translate S LightSquares {Casillas claras}
 translate S DarkSquares {Casillas oscuras}
 translate S SelectedSquares {Casillas seleccionadas}
+# ====== TODO To be translated ======
+translate S SuggestedSquares {Suggested}
 translate S Grid {CuadrÌcula}
 translate S Previous {ElecciÛn}
 translate S WhitePieces {Piezas blancas}
Index: tcl/lang/swedish.tcl
===================================================================
--- tcl/lang/swedish.tcl	(revision 3286)
+++ tcl/lang/swedish.tcl	(working copy)
@@ -309,6 +309,8 @@
   {Ange fˆrdrˆjning mellan dragen n‰r datorn spelar sj‰lv}
 menuText W OptionsMovesCoord "Koordinater" 0 \
   {Acceptera koordinater ("g1f3") vid dragangivelse}
+# ====== TODO To be translated ======
+menuText W OptionsMovesSuggest "Show Suggested Moves" 0 \
 menuText W OptionsShowVarPopup "Visa Variantfˆnster" 0 {Starta/Avsluta visningen av ett Variantfˆnster} 
 menuText W OptionsMovesSpace "L‰gg till mellanslag efter dragnummer" 0 {L‰gg till mellanslag efter dragnummer} 
 menuText W OptionsMovesKey "Tangentkomplettering" 0 \
@@ -1457,6 +1459,8 @@
 translate W LightSquares {Ljusa f‰lt}
 translate W DarkSquares {Mˆrka f‰lt}
 translate W SelectedSquares {Valda f‰lt}
+# ====== TODO To be translated ======
+translate W SuggestedSquares {Suggested}
 translate W Grid {Ruta}
 translate W Previous {FˆregÂende}
 translate W WhitePieces {Vita pj‰ser}
Index: tcl/lang/turkish.tcl
===================================================================
--- tcl/lang/turkish.tcl	(revision 3286)
+++ tcl/lang/turkish.tcl	(working copy)
@@ -274,6 +274,8 @@
   {Otomatik oynatma modu i√ßin zaman gecikmesini ayarlayƒ±n}
 menuText T OptionsMovesCoord "Klavyeden Oynama" 0 \
   {Koordinat stili oynama giri≈üini kabul edin (√∂r. "g1f3")}
+# ====== TODO To be translated ======
+menuText T OptionsMovesSuggest "Show Suggested Moves" 0 \
 menuText T OptionsShowVarPopup "Varyant Penceresini A√ß/Kapat" 0 {Turn on/off the display of a variations window}  
 menuText T OptionsMovesSpace "Hamle numarasƒ±ndan sonra bo≈üluk ekle" 0 {Hamle numarasƒ±ndan sonra bo≈üluk ekle}  
 menuText T OptionsMovesKey "Klavye Tamamlama" 0 \
@@ -1359,6 +1361,8 @@
 translate T LightSquares {A√ßƒ±k kareler}
 translate T DarkSquares {Koyu kareler}
 translate T SelectedSquares {se√ßilmi≈ü}
+# ====== TODO To be translated ======
+translate T SuggestedSquares {Suggested}
 translate T Grid {√áer√ßeve}
 translate T Previous {√ñnceki}
 translate T WhitePieces {Beyaz Ta≈ülar}
Index: tcl/main.tcl
===================================================================
--- tcl/main.tcl	(revision 3286)
+++ tcl/main.tcl	(working copy)
@@ -1223,6 +1223,7 @@
 # These three should be ::board::_selectedSq($w) etc instead of globals
 set selectedSq -1
 set currentSq -1
+set bestSq -1
 
 set EMPTY 0
 set KING 1
@@ -1511,12 +1512,36 @@
   }
 }
 
+# enterSquare:
 #   Called when the mouse pointer enters a board square.
-
+#   Finds the best matching square for a move (if there is a
+#   legal move to or from this square), and colors the squares
+#   to indicate the suggested move.
+#
 proc enterSquare { square } {
-  set ::currentSq $square
+  global currentSq bestSq bestcolor selectedSq suggestMoves
+  set currentSq $square
+  if {$selectedSq == -1} {
+    set bestSq -1
+    if {$suggestMoves} {
+      set bestSq [sc_pos bestSquare $square]
+    }
+    if {[expr {$bestSq != -1}]} {
+      ::board::highlightSquare .main.board $square $bestcolor
+      ::board::highlightSquare .main.board $bestSq $bestcolor
+    }
+  }
 }
 
+#    Called when the mouse pointer leaves a board square.
+#    Recolors squares to normal (lite/dark) color.
+
+proc leaveSquare { square } {
+  if {$::bestSq != -1} {
+    ::board::update .main.board
+  }
+}
+
 #    Called when the left mouse button is pressed on a square.
 #    Sets that square to be the selected square.
 
@@ -1564,7 +1589,7 @@
 
   if { [winfo exists .calvarWin] } { return }
 
-  global selectedSq
+  global selectedSq bestSq
 
   ::board::setDragSquare $w -1
   set square [::board::getSquare $w $x $y]
@@ -1574,7 +1599,18 @@
   }
 
   if {$square == $selectedSq} {
-    # suggested-moves feature removed S.A
+    if {$::suggestMoves} {
+      # User pressed and released on same square, so make the
+      # suggested move if there is one:
+      set selectedSq -1
+      ::board::highlightSquare $w $bestSq
+      ::board::highlightSquare $w $square
+      addMove $square $bestSq -animate
+      enterSquare $square
+    } else {
+      # Current square is the square user pressed the button on,
+      # so we do nothing.
+    }
   } else {
     if {$selectedSq == -1} {
       return
Index: tcl/menus.tcl
===================================================================
--- tcl/menus.tcl	(revision 3289)
+++ tcl/menus.tcl	(working copy)
@@ -962,7 +962,7 @@
     ::pgn::shortHeader ::pgn::boldMainLine ::pgn::stripMarks 
     ::pgn::symbolicNags ::pgn::moveNumberSpaces ::pgn::columnFormat ::pgn::showScrollbar
     myPlayerNames optionsAutoSave ::tree::mask::recentMask ::tree::mask::autoLoadMask ::tree::showBar ::tree::short ::tree::sortBest ::tree::autoAdjust
-    ::tree::autoSave ::tree::order ::tree::showFrame ecoFile showVarPopup showVarArrows colorActiveSquare
+    ::tree::autoSave ::tree::order ::tree::showFrame ecoFile suggestMoves showVarPopup showVarArrows colorActiveSquare
     annotate(blunder) annotate(addTag) annotate(Moves) annotate(WithVars) annotate(WithScore) useAnalysisBook annotate(isVar) annotate(scoreType) annotate(cutoff) annotate(MissedMates) annotate(VarAtEnd)
     annotate(WantedDepth) annotate(Depth) autoplayDelay animateDelay boardCoords boardSTM 
     moveEntry(AutoExpand) moveEntry(Coord)
@@ -1022,7 +1022,7 @@
     puts $optionF ""
     puts $optionF "set analysisCommand [list $analysisCommand]"
     puts $optionF ""
-    foreach i {lite dark highcolor bgcolor maincolor varcolor engineLineColor rowcolor highlightcolor progcolor crosscolor scorecolor scorebarcolor switchercolor borderwidth \
+    foreach i {lite dark highcolor bestcolor bgcolor maincolor varcolor engineLineColor rowcolor highlightcolor progcolor crosscolor scorecolor scorebarcolor switchercolor borderwidth \
           pgnColor(Header) pgnColor(Main) pgnColor(Var) \
           pgnColor(Nag) pgnColor(Comment) pgnColor(Background) \
           pgnColor(Current) pgnColor(NextMove) } {
@@ -1205,6 +1205,10 @@
     -variable moveEntry(AutoExpand) -offvalue 0 -onvalue 1
 set helpMessage($m.entry,4) OptionsMovesKey
 
+$m.entry add checkbutton -label OptionsMovesSuggest \
+    -variable suggestMoves -offvalue 0 -onvalue 1
+set helpMessage($m.entry,5) OptionsMovesSuggest
+
 $m.entry add checkbutton -label OptionsMovesSpace \
     -variable ::pgn::moveNumberSpaces -offvalue 0 -onvalue 1
 set helpMessage($m.entry,7) OptionsMovesSpace
@@ -1846,7 +1850,7 @@
   }
   configMenuText .menu.options.entry [tr OptionsShowVarPopup $oldLang] OptionsShowVarPopup $lang
   # S.A. here's how to fix these f-ing menus. &&&
-  foreach tag {Ask Animate Delay Key Coord Space TranslatePieces HighlightLastMove ShowVarArrows ColorSelected} {
+  foreach tag {Ask Animate Delay Suggest Key Coord Space TranslatePieces HighlightLastMove ShowVarArrows ColorSelected} {
     configMenuText .menu.options.entry [tr OptionsMoves$tag $oldLang] \
         OptionsMoves$tag $lang
   }
Index: tcl/start.tcl
===================================================================
--- tcl/start.tcl	(revision 3286)
+++ tcl/start.tcl	(working copy)
@@ -420,6 +420,7 @@
 set lite        #f3f3f3
 set dark        #7389b6		;# dark and lite square colors
 set highcolor   #b0d0e0		;# color when something is selected
+set bestcolor   #bebebe		;# suggested move square
 set bgcolor     grey20		;# board (canvas) bg color, appears as the lines between the squares
 set progcolor   rosybrown	;# progress bar
 set buttoncolor #b0c0d0		;# (below)
@@ -666,6 +667,9 @@
 # Ask before replacing existing moves: on by default
 set askToReplaceMoves 1
 
+# Show suggested moves
+set suggestMoves 0
+
 # Show variations popup window, arrows
 set showVarPopup 0
 set showVarArrows 1
Index: tcl/tools/calvar.tcl
===================================================================
--- tcl/tools/calvar.tcl	(revision 3286)
+++ tcl/tools/calvar.tcl	(working copy)
@@ -214,8 +214,10 @@
 
     set ::analysis(multiPVCount$n) 10
     ::uci::sendToEngine $n "setoption name MultiPV value $::analysis(multiPVCount$n)"
+    set ::calvar::suggestMoves_old $::suggestMoves
     set ::calvar::hideNextMove_old $::gameInfo(hideNextMove)
 
+    set ::suggestMoves 0
     set ::gameInfo(hideNextMove) 1
     updateBoard
 
@@ -238,6 +240,7 @@
     ::uci::closeUCIengine $n
     focus .main
     destroy .calvarWin
+    set ::suggestMoves $::calvar::suggestMoves_old
     set ::gameInfo(hideNextMove) $::calvar::hideNextMove_old
     updateBoard
   }
